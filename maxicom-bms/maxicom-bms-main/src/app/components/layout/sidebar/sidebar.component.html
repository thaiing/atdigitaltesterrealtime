<div class="sidebar-header">
  <app-logo size="small"></app-logo>
</div>

<mat-nav-list class="menu-list">
  <ng-container *ngFor="let item of menuItems">
    <a
      *ngIf="!item.children || item.children.length === 0"
      mat-list-item
      [routerLink]="item.route"
      routerLinkActive="active-link"
      [routerLinkActiveOptions]="{ exact: true }"
      (click)="onLinkClick()"
    >
      <mat-icon matListItemIcon>{{ item.icon }}</mat-icon>
      <span matListItemTitle>{{ item.label }}</span>
    </a>

    <mat-expansion-panel
      *ngIf="item.children && item.children.length > 0"
      class="mat-elevation-z0 menu-expansion-panel"
      hideToggle
    >
      <mat-expansion-panel-header>
        <mat-panel-title>
          <mat-icon matListItemIcon>{{ item.icon }}</mat-icon>
          <span matListItemTitle>{{ item.label }}</span>
        </mat-panel-title>
      </mat-expansion-panel-header>

      <mat-nav-list>
        <a
          *ngFor="let child of item.children"
          mat-list-item
          [routerLink]="child.route"
          routerLinkActive="active-link"
          [routerLinkActiveOptions]="{ exact: true }"
          (click)="onLinkClick()"
        >
          <mat-icon matListItemIcon>{{ child.icon }}</mat-icon>
          <span matListItemTitle>{{ child.label }}</span>
        </a>
      </mat-nav-list>
    </mat-expansion-panel>
  </ng-container>
</mat-nav-list>
